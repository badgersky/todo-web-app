{% extends 'base.html' %}
{% load static %}

{% block title %}
    Tasks
{% endblock %}

{% block content %}
    <ol class="list-group list-group-numbered mt-3 mb-3">
        {% for task in tasks %}
            <li class="list-group-item d-flex justify-content-between align-items-start">
                <div class="ms-2 me-auto">
                    <div class="fw-bold">{{ task.title }}</div>
                    {{ task.description }}
                </div>
                {% if today >= task.date %}
                    <a href="{% url 'tasks:delete' task_id=task.id %}">
                        <button class="badge bg-danger">Delete</button>
                    </a>
                {% endif %}
                <a href="{% url 'tasks:edit' task_id=task.id %}">
                    <button class="badge bg-danger">Edit</button>
                </a>
                <a href="">
                    <button class="badge bg-danger">{{ task.date }}</button>
                </a>
            </li>
        {% endfor %}
    </ol>

    <div class="pagination">
    <span class="step-links">
        {% if tasks.has_previous %}
            <a href="?page=1">&laquo; first</a>
            <a href="?page={{ tasks.previous_page_number }}">previous</a>
        {% endif %}

        <span class="current">
            Page {{ tasks.number }} of {{ tasks.paginator.num_pages }}.
        </span>

        {% if tasks.has_next %}
            <a href="?page={{ tasks.next_page_number }}">next</a>
            <a href="?page={{ tasks.paginator.num_pages }}">last &raquo;</a>
        {% endif %}
    </span>
    </div>
{% endblock %}
